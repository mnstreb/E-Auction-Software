<div id="savedProjectsContainer" class="saved-projects-container hidden">
    <div class="saved-projects-content card">
        <h2 class="text-3xl font-bold mb-8 text-center text-gray-800 dark:text-e2e8f0">Your Saved Projects</h2>
        <p class="text-gray-600 dark:text-a0aec0 text-center mb-6">Manage and load your previous construction estimates.</p>
        
        <!-- Filter and Chart Section -->
        <div class="flex flex-col md:flex-row items-center justify-between gap-6 mb-8">
            <!-- Filter by Customer Name -->
            <div class="flex-grow w-full md:w-auto">
                <label for="customerFilterInput" class="label mb-2">Filter by Customer Name:</label>
                <input type="text" id="customerFilterInput" class="input-field" placeholder="Search by customer name...">
            </div>

            <!-- Project Totals by Customer Chart -->
            <div class="chart-container-small card flex-shrink-0 w-full md:w-1/3 lg:w-1/4">
                <h4 class="text-center font-semibold text-gray-800 dark:text-e2e8f0 mb-4">Totals by Customer</h4>
                <canvas id="customerProjectsPieChart" class="chart-canvas-small"></canvas>
                <p id="noCustomerDataMessage" class="text-center text-gray-500 italic text-sm mt-2 hidden">No data for chart.</p>
            </div>
        </div>

        <div id="projectsList" class="projects-list grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
            <!-- Project cards will be dynamically loaded here by JavaScript -->
            <!-- Sample Project Card 1 (with new fields) -->
            <div class="project-card">
                <h3 class="font-semibold text-lg mb-2">Sample Project 1</h3>
                <p class="text-sm text-gray-600 dark:text-a0aec0">Customer: **Acme Corp**</p>
                <p class="text-sm text-gray-600 dark:text-a0aec0">Type: Commercial | State: CA</p>
                <p class="text-sm text-gray-600 dark:text-a0aec0">Total: **$150,000.00**</p>
                <p class="text-sm text-gray-600 dark:text-a0aec0">Last Saved: 2025-06-28</p>
                
                <div class="flex items-center justify-between mt-4">
                    <label for="status-sample1" class="text-sm text-gray-600 dark:text-a0aec0 mr-2">Status:</label>
                    <select id="status-sample1" class="input-field status-select text-sm p-1">
                        <option value="Draft">Draft</option>
                        <option value="Pending Review">Pending Review</option>
                        <option value="Awarded">Awarded</option>
                        <option value="Rejected">Rejected</option>
                    </select>
                </div>
                
                <div class="flex justify-end gap-2 mt-4">
                    <button class="btn btn-primary btn-sm load-project-btn">Load</button>
                    <button class="btn btn-red btn-sm delete-project-btn">Delete</button>
                </div>
            </div>

            <!-- Sample Project Card 2 (with new fields) -->
            <div class="project-card">
                <h3 class="font-semibold text-lg mb-2">Sample Project 2</h3>
                <p class="text-sm text-gray-600 dark:text-a0aec0">Customer: **Bayside Homes**</p>
                <p class="text-sm text-gray-600 dark:text-a0aec0">Type: Residential | State: TX</p>
                <p class="text-sm text-gray-600 dark:text-a0aec0">Total: **$75,500.00**</p>
                <p class="text-sm text-gray-600 dark:text-a0aec0">Last Saved: 2025-06-27</p>

                <div class="flex items-center justify-between mt-4">
                    <label for="status-sample2" class="text-sm text-gray-600 dark:text-a0aec0 mr-2">Status:</label>
                    <select id="status-sample2" class="input-field status-select text-sm p-1">
                        <option value="Draft" selected>Draft</option>
                        <option value="Pending Review">Pending Review</option>
                        <option value="Awarded">Awarded</option>
                        <option value="Rejected">Rejected</option>
                    </select>
                </div>

                <div class="flex justify-end gap-2 mt-4">
                    <button class="btn btn-primary btn-sm load-project-btn">Load</button>
                    <button class="btn btn-red btn-sm delete-project-btn">Delete</button>
                </div>
            </div>

            <!-- No projects message -->
            <p id="noProjectsMessage" class="col-span-full text-center text-gray-500 italic hidden">No saved projects found.</p>
        </div>

        <div class="flex justify-center">
            <button id="goToCalculatorBtn" class="btn btn-primary">‚Üê Back to Calculator</button>
        </div>
    </div>
</div>

